# @repo/composables

## 1.0.4

### Patch Changes

- e2c91ef: deps(minor): Update package type-fest from 4.39.1 to 4.41.0
- df36dd6: deps(minor): Update package @types/node from 22.7.8 to 22.15.29
- 291257a: deps(patch): Update package typescript from 5.8.2 to 5.8.3
- 66ea456: deps(patch): Update package vite-plugin-dts from 4.5.4 to 4.5.4
- 0336c5c: deps(minor): Update package vite from 6.2.5 to 6.3.4
- b922aea: deps(patch): Update package vite from 6.3.4 to 6.3.5
- 4757606: deps(patch): Update package vitest from 3.1.1 to 3.1.4
- 0e9b65f: deps(patch): Update package @vitest/coverage-v8 from 3.1.1 to 3.1.4
- dc282fe: deps(patch): Update package vue-tsc from 2.2.8 to 2.2.10
- 776bdc5: deps: Updated lockfile
- 512461e: deps: Updated lockfile
- 6b26c2e: deps: Updated lockfile
- ab59d2c: deps: Updated lockfile
- c2fe4e8: deps: Updated lockfile
- ea663cf: deps: Updated lockfile
- eddbb5d: deps: Updated lockfile
- 1b989b0: deps: Updated lockfile
- 8b575a9: Fix package url. This should display changelogs in renovate.
- Updated dependencies [3d997d6]
- Updated dependencies [e2c91ef]
- Updated dependencies [df36dd6]
- Updated dependencies [291257a]
- Updated dependencies [4757606]
- Updated dependencies [0e9b65f]
- Updated dependencies [776bdc5]
- Updated dependencies [512461e]
- Updated dependencies [6b26c2e]
- Updated dependencies [ab59d2c]
- Updated dependencies [c2fe4e8]
- Updated dependencies [ea663cf]
- Updated dependencies [eddbb5d]
- Updated dependencies [1b989b0]
- Updated dependencies [ad6243a]
- Updated dependencies [8b575a9]
- Updated dependencies [0524494]
- Updated dependencies [dd598fa]
- Updated dependencies [0524494]
- Updated dependencies [ad6243a]
- Updated dependencies [960ae56]
- Updated dependencies [f8fd34d]
- Updated dependencies [a8a34ba]
- Updated dependencies [c8c542f]
- Updated dependencies [dd598fa]
  - @repo/ts-helpers@2.0.0

## 1.0.4-next.7

### Patch Changes

- Updated dependencies [dd598fa]
- Updated dependencies [dd598fa]
  - @repo/ts-helpers@2.0.0-next.7

## 1.0.4-next.6

### Patch Changes

- 5fa9cc9: deps(minor): Update package @types/node from 22.7.8 to 22.15.3
- Updated dependencies [5fa9cc9]
  - @repo/ts-helpers@1.0.2-next.6

## 1.0.4-next.5

### Patch Changes

- 5ec777b: deps(patch): Update package type-fest from 4.40.0 to 4.40.1
- d9e7e7d: deps(patch): Update package vite from 6.3.2 to 6.3.3
- 4242703: deps(patch): Update package vite from 6.3.3 to 6.3.4
- dc282fe: deps(patch): Update package vue-tsc from 2.2.8 to 2.2.10
- 6b26c2e: deps: Updated lockfile
- ab59d2c: deps: Updated lockfile
- Updated dependencies [5ec777b]
- Updated dependencies [6b26c2e]
- Updated dependencies [ab59d2c]
  - @repo/ts-helpers@1.0.2-next.5

## 1.0.4-next.4

### Patch Changes

- 518362b: deps(patch): Update package vitest from 3.1.1 to 3.1.2
- 5c6a504: deps(patch): Update package @vitest/coverage-v8 from 3.1.1 to 3.1.2
- Updated dependencies [518362b]
- Updated dependencies [5c6a504]
  - @repo/ts-helpers@1.0.2-next.4

## 1.0.4-next.3

### Patch Changes

- 9061150: deps(minor): Update package type-fest from 4.39.1 to 4.40.0
- 48c4ad5: deps(minor): Update package vite from 6.2.6 to 6.3.0
- 235435c: deps(patch): Update package vite from 6.3.0 to 6.3.1
- 6221b5c: deps(patch): Update package vite from 6.3.1 to 6.3.2
- 512461e: deps: Updated lockfile
- Updated dependencies [9061150]
- Updated dependencies [512461e]
  - @repo/ts-helpers@1.0.2-next.3

## 1.0.4-next.2

### Patch Changes

- d8f4ae6: deps(patch): Update package vite from 6.2.5 to 6.2.6
- 776bdc5: deps: Updated lockfile
- Updated dependencies [776bdc5]
  - @repo/ts-helpers@1.0.2-next.2

## 1.0.4-next.1

### Patch Changes

- 8b575a9: Fix package url. This should display changelogs in renovate.
- Updated dependencies [8b575a9]
  - @repo/ts-helpers@1.0.2-next.1

## 1.0.4-next.0

### Patch Changes

- 291257a: deps(patch): Update package typescript from 5.8.2 to 5.8.3
- Updated dependencies [291257a]
  - @repo/ts-helpers@1.0.2-next.0

## 1.0.3

### Patch Changes

- af84e3a: deps(minor): Update package type-fest from 4.38.0 to 4.39.0
- 5114615: deps(patch): Update package type-fest from 4.39.0 to 4.39.1
- cef14a7: deps(patch): Update package vite from 6.2.4 to 6.2.5
- e3f3a2e: deps: Updated lockfile
- Updated dependencies [af84e3a]
- Updated dependencies [5114615]
- Updated dependencies [e3f3a2e]
  - @repo/ts-helpers@1.0.1

## 1.0.2

### Patch Changes

- ac02be0: deps(minor): Update package vitest from 3.0.9 to 3.1.1
- f3fc4dc: deps(minor): Update package @vitest/coverage-v8 from 3.0.9 to 3.1.1
- e3754fb: Move `@repo/ts-helpers` to dependencies as package is now public.
- Updated dependencies [ac02be0]
- Updated dependencies [f3fc4dc]
- Updated dependencies [f36576c]
- Updated dependencies [7bb96f8]
- Updated dependencies [7bb96f8]
  - @repo/ts-helpers@1.0.0

## 1.0.2-next.1

### Patch Changes

- e3754fb: Move `@repo/ts-helpers` to dependencies as package is now public.

## 1.0.2-next.0

### Patch Changes

- ac02be0: deps(minor): Update package vitest from 3.0.9 to 3.1.1
- f3fc4dc: deps(minor): Update package @vitest/coverage-v8 from 3.0.9 to 3.1.1

## 1.0.1

### Patch Changes

- db04546: deps(minor): Update package type-fest from 4.37.0 to 4.38.0
- 16ab877: deps(patch): Update package vite from 6.2.1 to 6.2.3
- ec687ca: deps(patch): Update package vite from 6.2.3 to 6.2.4
- 6283792: deps(patch): Update package vitest from 3.0.6 to 3.0.9
- d02ee18: deps(patch): Update package @vitest/coverage-v8 from 3.0.8 to 3.0.9
- 501554c: deps: Updated lockfile

## 1.0.1-next.3

### Patch Changes

- ec687ca: deps(patch): Update package vite from 6.2.3 to 6.2.4

## 1.0.1-next.2

### Patch Changes

- db04546: deps(minor): Update package type-fest from 4.37.0 to 4.38.0
- 501554c: deps: Updated lockfile

## 1.0.1-next.1

### Patch Changes

- 16ab877: deps(patch): Update package vite from 6.2.1 to 6.2.3

## 1.0.1-next.0

### Patch Changes

- 6283792: deps(patch): Update package vitest from 3.0.6 to 3.0.9
- d02ee18: deps(patch): Update package @vitest/coverage-v8 from 3.0.8 to 3.0.9

## 1.0.0

### Major Changes

- 467c7b1: Initial Release.

  The `@repo/composables` package contains Vue composables which can be reused across projects.

### Minor Changes

- 467c7b1: Add `usePagination` composable.

  Reactively calculate the current page, first/last item on page based on page size, total items and offset. Use this when working with API data where not all data is available in the frontend.

  ```typescript
  // Script block
  import { syncRef } from '@vueuse/core'

  const currentPage = ref(1)
  const perPage = ref(10)
  const perPageOptions = [10, 50, 100]
  const total = ref(Infinity)

  const { pageOffset, firstItem, lastItem } = usePagination(perPage, {
    total,
    handlePageAfterLast: 'goToFirstPage',
    handlePageSizeChanged: 'goToFirstPage',
    pageRef: currentPage,
  })

  const { data, dataTotal } = reactivelyGetMyData(pageOffset, perPage)
  syncRef(dataTotal, total, {
    direction: 'ltr',
    transform: {
      ltr: (value) => value ?? Infinity,
    },
  })
  ```

  ```html
  <!-- Template Block -->
  <div class="footer-container">
    <span>Per Page</span>
    <wui-form-multiselect
      v-model="perPage"
      :options="perPageOptions"
      :allow-empty="false"
    />
    <span
      >{{ t("carts.list.pagination.numberOfItems", { from: formatter(firstItem),
      to: formatter(lastItem), count: total, }) }}</span
    >
    <wui-quick-pagination
      v-model="currentPage"
      :total-rows="total"
      :limit="perPage"
    />
  </div>
  ```

- 467c7b1: Add `usePaginationWithData` composable.

  Reactively calculate the current page, first/last item on page based on page size, total items and offset.
  Use this when working with local data where all data is available in the frontend.

  ```typescript
  // Script block
  const currentPage = ref(1)
  const perPage = ref(10)
  const perPageOptions = [10, 50, 100]
  const data = ref([1, 2, 3, 4, 5, 6])

  const { paginatedData, firstItem, lastItem } = usePaginationWithData(
    data,
    perPage,
    {
      handlePageAfterLast: 'goToFirstPage',
      handlePageSizeChanged: 'goToFirstPage',
      pageRef: currentPage,
    },
  )
  ```

  ```html
  <!-- Template Block -->
  <ul>
    <li v-for="item in paginatedData">{{item}}</li>
  </ul>
  <div class="footer-container">
    <span>Per Page</span>
    <wui-form-multiselect
      v-model="perPage"
      :options="perPageOptions"
      :allow-empty="false"
    />
    <span
      >{{ t("carts.list.pagination.numberOfItems", { from: formatter(firstItem),
      to: formatter(lastItem), count: data.length, }) }}</span
    >
    <wui-quick-pagination
      v-model="currentPage"
      :total-rows="data.length"
      :limit="perPage"
    />
  </div>
  ```

## 1.0.0-next.0

### Major Changes

- 467c7b1: Initial Release.

  The `@repo/composables` package contains Vue composables which can be reused across projects.

### Minor Changes

- 467c7b1: Add `usePagination` composable.

  Reactively calculate the current page, first/last item on page based on page size, total items and offset. Use this when working with API data where not all data is available in the frontend.

  ```typescript
  // Script block
  import { syncRef } from '@vueuse/core'

  const currentPage = ref(1)
  const perPage = ref(10)
  const perPageOptions = [10, 50, 100]
  const total = ref(Infinity)

  const { pageOffset, firstItem, lastItem } = usePagination(perPage, {
    total,
    handlePageAfterLast: 'goToFirstPage',
    handlePageSizeChanged: 'goToFirstPage',
    pageRef: currentPage,
  })

  const { data, dataTotal } = reactivelyGetMyData(pageOffset, perPage)
  syncRef(dataTotal, total, {
    direction: 'ltr',
    transform: {
      ltr: (value) => value ?? Infinity,
    },
  })
  ```

  ```html
  <!-- Template Block -->
  <div class="footer-container">
    <span>Per Page</span>
    <wui-form-multiselect
      v-model="perPage"
      :options="perPageOptions"
      :allow-empty="false"
    />
    <span
      >{{ t("carts.list.pagination.numberOfItems", { from: formatter(firstItem),
      to: formatter(lastItem), count: total, }) }}</span
    >
    <wui-quick-pagination
      v-model="currentPage"
      :total-rows="total"
      :limit="perPage"
    />
  </div>
  ```

- 467c7b1: Add `usePaginationWithData` composable.

  Reactively calculate the current page, first/last item on page based on page size, total items and offset.
  Use this when working with local data where all data is available in the frontend.

  ```typescript
  // Script block
  const currentPage = ref(1)
  const perPage = ref(10)
  const perPageOptions = [10, 50, 100]
  const data = ref([1, 2, 3, 4, 5, 6])

  const { paginatedData, firstItem, lastItem } = usePaginationWithData(
    data,
    perPage,
    {
      handlePageAfterLast: 'goToFirstPage',
      handlePageSizeChanged: 'goToFirstPage',
      pageRef: currentPage,
    },
  )
  ```

  ```html
  <!-- Template Block -->
  <ul>
    <li v-for="item in paginatedData">{{item}}</li>
  </ul>
  <div class="footer-container">
    <span>Per Page</span>
    <wui-form-multiselect
      v-model="perPage"
      :options="perPageOptions"
      :allow-empty="false"
    />
    <span
      >{{ t("carts.list.pagination.numberOfItems", { from: formatter(firstItem),
      to: formatter(lastItem), count: data.length, }) }}</span
    >
    <wui-quick-pagination
      v-model="currentPage"
      :total-rows="data.length"
      :limit="perPage"
    />
  </div>
  ```
